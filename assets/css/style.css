/* ===== 基本テーマ & スケール ===== */
:root{
  --fg:#0f1a17; --fg-sub:#4a5a53; --bg:#f4f7f4;
  --panel:#e9f4ea; --panel-h:#d8efe0; --panel-b:#f7fbf7;
  --bd:#9abda0; --bd-sub:#b8d2bd; --bd-soft:#cfe1d1;
  --accent:#2fb66b; --accent-d:#249c5a; --danger:#e76a6a; --danger-d:#cf5a5a;
  --radius:14px; --space:12px;
  --fs: clamp(15px, 1.05vw + .6rem, 18px);
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0d1110; --fg:#eef5ef; --fg-sub:#9fb2a9;
    --panel:#132017; --panel-h:#18331f; --panel-b:#0f1813;
    --bd:#295a36; --bd-sub:#2c6b3f; --bd-soft:#234d30;
  }
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; background:var(--bg); color:var(--fg);
  font-family:-apple-system, system-ui, "Hiragino Sans", "Noto Sans JP", sans-serif;
  font-size:var(--fs); line-height:1.65;
  -webkit-font-smoothing:antialiased; -webkit-tap-highlight-color:transparent;
}
.wrap{ max-width:1100px; margin:0 auto; padding-inline:clamp(12px,3vw,24px); }

.skip{ position:absolute; left:-9999px; }
.skip:focus{ left:12px; top:12px; background:#fff; padding:6px 10px; border-radius:8px; z-index:5; }

/* ===== ヘッダー ===== */
.header{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:10px 0; }
h1{ margin:0; font-size:1.25rem; }

.menu{ display:flex; gap:8px; }

.icon-btn{
  width:44px; height:44px; border-radius:12px;
  border:1px solid var(--bd); background:#fff; display:none; place-items:center; cursor:pointer;
  position:relative;
}
.icon-btn span{
  position:absolute; left:10px; right:10px; height:2px; background:#333;
}
.icon-btn span:nth-child(1){ top:13px; }
.icon-btn span:nth-child(2){ top:21px; }
.icon-btn span:nth-child(3){ top:29px; }

/* ===== 共通部品 ===== */
.btn{
  padding:10px 14px; min-height:44px;
  border:1px solid var(--bd); background:#fff; color:inherit;
  border-radius:12px; cursor:pointer; touch-action:manipulation;
}
.btn.primary{ background:var(--accent); color:#fff; border-color:var(--accent-d); }
.btn.danger { background:var(--danger); color:#fff; border-color:var(--danger-d); }
.btn.small{ padding:6px 10px; min-height:36px; }
.btn.active{ outline:2px solid var(--accent); outline-offset:1px; }

.input, input, textarea{
  width:100%; padding:10px 12px; min-height:44px;
  border:1px solid var(--bd-sub); border-radius:12px; background:#fff; color:inherit;
}
textarea{ min-height:7em; }

.panel{
  border:1px solid var(--bd); border-radius:var(--radius);
  background:var(--panel); margin:clamp(8px,1.5vw,14px) 0;
  box-shadow:0 1px 3px rgba(0,0,0,.06);
}
.panel-h{
  padding:10px 12px; background:var(--panel-h);
  border-bottom:1px solid var(--bd-sub);
  border-top-left-radius:var(--radius); border-top-right-radius:var(--radius);
}
.panel-b{
  padding:clamp(10px,2.4vw,16px); background:var(--panel-b);
  border-bottom-left-radius:var(--radius); border-bottom-right-radius:var(--radius);
}
.card{ border:1px solid var(--bd-soft); background:#fff; border-radius:12px; padding:10px; margin:8px 0; cursor:pointer; }
.card .t{ font-weight:600; margin-bottom:4px; }
.meta{ font-size:.9em; color:var(--fg-sub); margin-top:2px; }
.tag{ display:inline-block; padding:2px 8px; margin-right:6px; background:#e3f1e5; border:1px solid #bcd9c1; border-radius:999px; }

/* 行リスト */
.inglist .ingrow{ border:1px dashed var(--bd-sub); border-radius:12px; padding:8px; margin:6px 0; background:#fff; }

/* ツールバー */
.toolbar{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-bottom:10px; }
.w-lg{ min-width:260px; }

/* レイアウト：モバイル1カラム → タブレット以上2カラム */
.grid{ display:grid; grid-template-columns:1fr; gap:16px; }
.col{ min-width:0; }
@media (min-width: 820px){
  .grid{ grid-template-columns:1fr 1fr; }
}

/* ドロワーナビ（モバイル） */
.drawer{ gap:8px; }
.scrim{
  position:fixed; inset:0; background:rgba(0,0,0,.35); backdrop-filter:blur(1px);
  display:block; z-index:9;
}
.scrim[hidden]{ display:none; }

@media (max-width: 819.98px){
  .icon-btn{ display:grid; }
  .drawer{
    position:fixed; top:0; right:-85%; height:100dvh; width:min(85%, 360px);
    background:var(--panel-b); border-left:1px solid var(--bd);
    padding:16px; display:flex; flex-direction:column; gap:10px; z-index:10;
    transition: right .28s ease;
  }
  .drawer.open{ right:0; }
}
@media (min-width: 820px){
  #navScrim{ display:none !important; }
  .drawer{ position:static; height:auto; width:auto; background:transparent; border:none; padding:0; flex-direction:row; }
  .icon-btn{ display:none; }
}

/* 空表示 */
.empty{ color:var(--fg-sub); padding:10px; }

/* フォーカス可視化 */
:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
